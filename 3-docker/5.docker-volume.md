# Docker Container Storage

## Storage

In Linux, there are several types of storage options for both stand-alone and group of disks configurations. One of the commonly used storage management tools for managing disks, partitions, and volumes in Linux is the Logical Volume Manager (LVM).

![Alt text](../images/storage-types.png)

### Stand-Alone Storage

LVM is a powerful tool for managing storage on Linux systems, especially when dealing with a group of disks. Here's how LVM works:

+ **Filesystem**: You can use various filesystems like ext4, XFS, Btrfs, and more to format and manage individual disks or partitions. These filesystems are used to organize and store files and directories.

+ **RAID (Redundant Array of Independent Disks)**: RAID configurations allow you to combine multiple physical disks into a single logical unit for redundancy and performance improvement. Common RAID levels include RAID 0, RAID 1, RAID 5, and RAID 10.

+ **Network Attached Storage (NAS)**: NAS devices and protocols like NFS (Network File System) and SMB/CIFS allow you to share storage resources over a network, making it accessible to multiple machines.

+ **External Drives**: you can also use external storage devices like USB drives or external hard drives for stand-alone storage, which can be mounted and used as needed.

### Group of Disks with LVM (Logical Volume Manager)

LVM is a powerful tool for managing storage on Linux systems, especially when dealing with a group of disks. Here's how LVM works:

+ **Physical Volumes (PVs)**:these are individual physical disks or partitions that you add to the LVM pool. You can initialize them using the `pvcreate` command.

+ **Volume Groups (VGs)**: VGs are created by combining one or more PVs. They represent a pool of storage resources. You create a VG using the `vgcreate` command.

+ **Logical Volumes (LVs)**: LVs are logical partitions created within VGs. You can create, resize, and manage these LVs dynamically. To create an LV, you use the `lvcreate` command.

#### Examples

```powershell

# Show all disks
lsblk

# Install LVM
apt install lvm2

# Show volume groups
sudo vgs

# Create Physical Volumes (PVs)
pvcreate /dev/sdX1 /dev/sdX2

# Create a Volume Group (VG)
vgcreate my_vg /dev/sdX1 /dev/sdX2

# Extend a Volume Group (VG)
vgextend my_vg /dev/sdX3

# Create a Logical Volume (LV)
lvcreate -n my_lv -l 100%FREE my_vg

# Format the LV with a filesystem (e.g., ext4)
mkfs -t ext4 /dev/my_vg/my_lv

# Mount the LV to a directory
mkdir /mnt/my_mountpoint
mount /dev/my_vg/my_lv /mnt/my_mountpoint

```

#### Conclusion

 LVM provides flexibility, scalability, and the ability to dynamically resize volumes. It also supports features like snapshots and easy migration of data between physical disks.

## Docker Volume

![Alt text](../images/docker-volume.png)
