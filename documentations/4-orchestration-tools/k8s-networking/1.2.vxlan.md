# VXLAN (Virtual Extensible LAN)

- VXLAN is a tunneling protocol that allows Layer 2 traffic to be encapsulated within Layer 3 packets. This enables the creation of a virtualized Layer 2 network over an existing Layer 3 network, allowing for greater scalability and flexibility compared to traditional VLANs.

## **VXLAN Components:**

- **VTEP (VXLAN Tunnel Endpoint):** A VTEP is a device (usually a switch or server) that encapsulates and decapsulates VXLAN traffic. It has two interfaces: one connected to the Layer 2 network (usually the virtualized network) and one connected to the Layer 3 network (usually the physical network).
- **VNI (VXLAN Network Identifier):** This is a unique identifier (similar to a VLAN ID) that distinguishes different VXLAN segments.

## **Container Communication Across Nodes:**

In a Kubernetes or Docker Swarm environment, containers on different nodes can communicate using an overlay network. VXLAN is one of the popular overlay network protocols.

1. **Container1 (on Node 1) wants to communicate with Container2 (on Node 2):**
   - Both containers are on the same virtual network, identified by a VNI.
   - **Step 1: Container1 sends a packet addressed to Container2's IP.**
   - **Step 2: The packet is intercepted by the VTEP on Node 1.**
   - **Step 3: The VTEP on Node 1 encapsulates the Layer 2 packet into a VXLAN header, including the VNI, and then wraps it in a Layer 3 packet.**
   - **Step 4: The encapsulated packet is routed over the physical network (Layer 3) to Node 2.**
   - **Step 5: The VTEP on Node 2 receives the packet, decapsulates it, and forwards the original Layer 2 packet to Container2.**
